<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/landing.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>
    <title>Admin</title>
    <script>
        window.onload = function () {
            let user_account = sessionStorage.getItem("user_account");
            if(!user_account){
                location.href = '../index.html';
            }else{
                var jsonData = JSON.parse(user_account);
                document.getElementById('account_name_label').innerText =  jsonData.data.firstname + " " + jsonData.data.lastname;
                onViewSubject();
                let subject_list = sessionStorage.getItem("subject_list");
                var jsonData = JSON.parse(subject_list);
                subject_container = document.querySelector('#thumbnail-container');
                const color_array = ['primary','secondary','purple','green','primary'];
                var ctr=0;
                jsonData.data.forEach(element => {
                    let newCard = document.createElement('div');
                    newCard.classList.add(color_array[ctr]);
                    newCard.classList.add('card');
                    /* newCard.onclick = function(){ onClickViewSubjectUser(2); }; */
                    newCard.setAttribute("onclick","onClickViewSubjectUser( "+ element.id +")");
                    if(element.subject_description.length > 100){
                        subject_description = element.subject_description.substring(0,100)+ '...';
                    }else{
                        subject_description = element.subject_description;
                    }
                    let card_template = `
                        <h3>${element.subject_name}</h3>
                        <p>${subject_description}</p>

                        <footer class="mt-4">
                            <p class="modules-count">Modules: <span>20</span></p>
                        </footer>
                    `;

                    subject_container.appendChild(newCard);
    
                // Inject the template html on DOM's new append item
                newCard.innerHTML = card_template;
                ctr = ctr + 1;
                });
            }
        }
      </script>
</script>
</head>
<body>
    <div class="wrapper">
        <nav id="topbar-nav">
            <div class="container topbar">
                <div class="logo-container">
                    <img src="../../assets/logo.png" width="60px" alt="">
                </div>
                <a href="" id="account_name_label" >user user </a>
            </div>
        </nav>
        <div class="content">
            <div class="container">
                <nav aria-label="breadcrumb ">
                    <ol class="breadcrumb mt-5">
                      <li class="breadcrumb-item"><a href="#">Subject</a></li>
                    </ol>
                  </nav>
                <div class="row mt-5 justify-content-between" id="thumbnail-container"></div>
            </div>
        </div>
    </div>
    <script src="../../js/functions.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>